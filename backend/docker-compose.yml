# Specifies the Docker Compose file format version. Version 3 is recommended.
version: '3'

# Defines the services (containers) that make up your app.
services:
  # The name of our service.
  next-app:
    # Tells Docker Compose to build the image from the Dockerfile in the current directory.
    build: .
    # Sets a friendly name for the container.
    container_name: nextjs_container
    # Maps port 3000 on the host machine (your EC2 instance) to port 3000 inside the container.
    ports:
      - "3000:3000"
    # Ensures the container restarts automatically if it stops or if the server reboots.
    restart: unless-stopped
